<div class="page-container">
  <h1>RCU-Registrierung</h1>

  <section class="card">
    <form (ngSubmit)="register()" class="form-grid">
      <label>
        <span>RCU-ID</span>
        <input [(ngModel)]="rcuId" name="rcuId" required />
      </label>

      <label>
        <span>Name</span>
        <input [(ngModel)]="name" name="name" required />
      </label>

      <label>
        <span>Ort</span>
        <input [(ngModel)]="location" name="location" />
      </label>

      <button type="submit" class="btn-primary">RCU registrieren</button>
    </form>

    <div *ngIf="message" class="info-text">{{ message }}</div>
  </section>
</div>

<h2>Registrierte RCUs</h2>

<table class="table table-striped">
  <thead>
  <tr>
    <th>ID</th>
    <th>RCU-ID</th>
    <th>Zugeordnetes Smartphone</th>
    <th>Aktionen</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let rcu of rcus">
    <td>{{ rcu.id }}</td>
    <td>{{ rcu.rcuId }}</td>
    <td>
      <span *ngIf="rcu.smartphones; else none">
          {{ rcu.smartphones.userName }} ({{ rcu.smartphones.deviceId }})
        </span>
      <ng-template #none>
        <span class="text-muted">Kein Smartphone zugewiesen</span>
      </ng-template>
    </td>
    <td>
      <button class="btn btn-danger" (click)="deleteRcu(rcu.id!)">LÃ¶schen</button>
    </td>
  </tr>
  </tbody>
</table>

